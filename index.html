<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WebApp</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
    body {
        margin: 0;
        padding: 0;
        background: #181818;
        width: 100%;
        height: 100vh;
        overflow: hidden;
        position: relative;
        font-family: sans-serif;
    }

    /* üîµ –í–µ—Ä—Ö–Ω—è—è –ø—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ */
    .top-right-btn {
        position: absolute;
        top: 0.7cm;
        right: 0.4cm;
        width: 2cm;
        height: 0.7cm;
        background: #d9d9d9;
        border-radius: 14px;
        display: flex;
        justify-content: flex-end;
        align-items: center;
        padding-right: 0.18cm;
        user-select: none;
        cursor: pointer;
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        gap: 0.12cm;
    }

    .top-right-btn svg {
        width: 0.45cm;
        height: 0.45cm;
        pointer-events: none;
    }

    /* üî• –ê–Ω–∏–º–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∏ */
    #arrow-icon {
        transition: 0.25s ease;
        transform-origin: center;
    }
    .arrow-rotated {
        transform: rotate(180deg);
    }

    /* –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å */
    .bottom-bar {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 1.5cm;
        background: #d9d9d9;
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        border-radius: 14px 14px 0 0;
    }

    .nav-btn {
        width: 0.7cm;
        height: 0.7cm;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        position: relative;
        user-select: none;
        -webkit-tap-highlight-color: rgba(0,0,0,0);
    }

    .nav-btn img {
        width: 0.7cm;
        height: 0.7cm;
        object-fit: contain;
        filter: brightness(0);
        pointer-events: none;
    }

    .nav-btn.active::after {
        content: "";
        position: absolute;
        bottom: -0.25cm;
        left: 0;
        width: 100%;
        height: 3px;
        background: #000000;
        border-radius: 2px;
    }

    /* üü¶ –≠–∫—Ä–∞–Ω –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è */
    #inventory-screen {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: calc(100vh - 1.5cm);
        background: #181818;
        color: white;
        display: none;
        position: relative;
        overflow: hidden;
    }

    /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å */
    #inventory-empty {
        opacity: 0.7;
        font-size: 20px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        width: 100%;
    }

    #inventory-items {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: center;
        margin-top: 20px;
    }
</style>
</head>
<body>

<!-- üü¶ —ç–∫—Ä–∞–Ω –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è -->
<div id="inventory-screen">
    <div id="inventory-empty">–ù–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–æ–≤</div>
    <div id="inventory-items"></div>
</div>

<!-- üîµ –í–µ—Ä—Ö–Ω—è—è –∑–æ–ª–æ—Ç–∞—è –º–æ–Ω–µ—Ç–∞ + —Å—Ç—Ä–µ–ª–∫–∞ -->
<div class="top-right-btn" id="top-btn">

    <!-- –°—Ç—Ä–µ–ª–∫–∞ (–≤—Å—Ç–∞–≤–ª–µ–Ω–æ) -->
    <svg id="arrow-icon" xmlns="http://www.w3.org/2000/svg"
         width="0.4cm" height="0.4cm" viewBox="0 0 64 64" fill="none">
      <path d="M16 24 L32 40 L48 24"
            stroke="#000000"
            stroke-width="2.5"
            stroke-linecap="round"
            stroke-linejoin="round"/>
    </svg>

    <!-- –¢–≤–æ—è –∑–æ–ª–æ—Ç–∞—è –º–æ–Ω–µ—Ç–∞ -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
      <defs>
        <radialGradient id="gold" cx="30%" cy="30%" r="80%">
          <stop offset="0%" stop-color="#fff3a0"/>
          <stop offset="40%" stop-color="#f5c454"/>
          <stop offset="75%" stop-color="#d69c1f"/>
          <stop offset="100%" stop-color="#a86f00"/>
        </radialGradient>
      </defs>
      <circle cx="32" cy="32" r="30" fill="url(#gold)" stroke="#a86f00" stroke-width="2"/>
      <circle cx="32" cy="32" r="24" fill="none" stroke="#e0b44d" stroke-width="1.4"/>
      <path d="M18 34 C22 30, 26 28, 31 28 L48 18
               M31 28 C33 22, 36 18, 41 18
               C38 23, 38 28, 34 32
               C32 34, 28 36, 24 36
               C21 36, 19 35, 18 34
               M24 36 C22 39, 22 42, 25 44"
            fill="none"
            stroke="#7a4a00"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"/>
    </svg>

</div>

<!-- üîµ –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
<div class="bottom-bar">

    <!-- –î–æ–º -->
    <div class="nav-btn active" id="btn-home" onclick="openHome()">
        <img src="data:image/svg+xml;utf8,
        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64' fill='none'>
            <style>.s{stroke:black;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;fill:none;}</style>
            <path class='s' d='M10 30 L32 14 L54 30'/>
            <path class='s' d='M18 30 V50 H46 V30'/>
            <path class='s' d='M28 50 V38 H36 V50'/>
        </svg>"/>
    </div>

    <!-- –ö–≤–µ—Å—Ç—ã -->
    <div class="nav-btn" id="btn-calendar" onclick="openCalendar()">
        <img src="data:image/svg+xml;utf8,
        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64' fill='none'>
            <style>.s{stroke:black;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;fill:none;}</style>
            <rect class='s' x='12' y='10' width='40' height='44' rx='4'/>
            <rect class='s' x='16' y='18' width='8' height='8' rx='1.5'/>
            <line class='s' x1='28' y1='22' x2='48' y2='22'/>
            <rect class='s' x='16' y='30' width='8' height='8' rx='1.5'/>
            <line class='s' x1='28' y1='34' x2='48' y2='34'/>
            <rect class='s' x='16' y='42' width='8' height='8' rx='1.5'/>
            <line class='s' x1='28' y1='46' x2='48' y2='46'/>
        </svg>"/>
    </div>

    <!-- –ò–≤–µ–Ω—Ç -->
    <div class="nav-btn" id="btn-event" onclick="openEvent()">
        <img src="data:image/svg+xml;utf8,
        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64' fill='none'>
            <style>.s{stroke:black;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;fill:none;}</style>
            <path class='s' d='M8 26 L56 26 L48 14 H16 L8 26 Z'/>
            <path class='s'
              d='M12 26 C14 34,18 34,20 26 C22 34,26 34,28 26
                 C30 34,34 34,36 26 C38 34,42 34,44 26 C46 34,50 34,52 26'/>
            <line class='s' x1='12' y1='26' x2='12' y2='50'/>
            <line class='s' x1='52' y1='26' x2='52' y2='50'/>
            <line class='s' x1='12' y1='50' x2='52' y2='50'/>
            <path class='s' d='M28 50 V36 H36 V50'/>
        </svg>"/>
    </div>

    <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
    <div class="nav-btn" id="btn-inventory" onclick="openInventory()">
        <img src="data:image/svg+xml;utf8,
        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64' fill='none'>
            <style>.s{stroke:black;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;fill:none;}</style>
            <path class='s' d='M22 22 C22 16,42 16,42 22'/>
            <rect class='s' x='14' y='22' width='36' height='36' rx='8'/>
            <rect class='s' x='22' y='34' width='20' height='16' rx='6'/>
        </svg>"/>
    </div>

    <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
    <div class="nav-btn" id="btn-profile" onclick="openProfile()">
        <img src="data:image/svg+xml;utf8,
        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64' fill='none'>
            <style>.s{stroke:black;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;fill:none;}</style>
            <circle class='s' cx='32' cy='22' r='10'/>
            <path class='s' d='M16 50 C16 38,48 38,48 50 Z'/>
        </svg>"/>
    </div>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

/* —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∞–º–∏ */
function setActive(id) {
    document.querySelectorAll(".nav-btn").forEach(b => b.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

/* —Å–∫—Ä—ã—Ç–∏–µ —ç–∫—Ä–∞–Ω–æ–≤ */
function hideScreens() {
    document.getElementById("inventory-screen").style.display = "none";
}

function openHome(){ hideScreens(); setActive("btn-home"); }
function openCalendar(){ hideScreens(); setActive("btn-calendar"); }
function openEvent(){ hideScreens(); setActive("btn-event"); }
function openProfile(){ hideScreens(); setActive("btn-profile"); }

/* --- –ò–ù–í–ï–ù–¢–ê–†–¨ --- */
let inventory = [];

function renderInventory() {
    const emptyText = document.getElementById("inventory-empty");
    const box = document.getElementById("inventory-items");

    box.innerHTML = "";

    if (inventory.length === 0) {
        emptyText.style.display = "block";
        return;
    }

    emptyText.style.display = "none";

    inventory.forEach(item => {
        const el = document.createElement("div");
        el.style.width = "2.2cm";
        el.style.height = "2.2cm";
        el.style.background = "#2a2a2a";
        el.style.borderRadius = "12px";
        el.style.display = "flex";
        el.style.flexDirection = "column";
        el.style.justifyContent = "center";
        el.style.alignItems = "center";
        el.style.color = "white";

        el.innerHTML = `
            <div style="font-size:28px;">${item.icon}</div>
            <div style="font-size:12px;margin-top:4px;">${item.name}</div>
        `;

        box.appendChild(el);
    });
}

function openInventory() {
    hideScreens();
    setActive("btn-inventory");
    document.getElementById("inventory-screen").style.display = "block";
    renderInventory();
}

/* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏–∑ —Å—É–Ω–¥—É–∫–∞ */
function addItemFromChest(icon, name) {
    inventory.push({icon, name});
    renderInventory();
}

/* üî• –ü–æ–≤–æ—Ä–æ—Ç —Å—Ç—Ä–µ–ª–∫–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≤–µ—Ä—Ö–Ω—é—é –∫–Ω–æ–ø–∫—É */
document.getElementById("top-btn").addEventListener("click", () => {
    document.getElementById("arrow-icon").classList.toggle("arrow-rotated");
});
</script>

</body>
</html>
